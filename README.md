# Poetry の --no-root オプションについて

`poetry install` コマンドには `--no-root` オプションがあります。

## 概要
`--no-root` オプションを付けることで、プロジェクト自身（ルートパッケージ）のインストールをスキップし、依存パッケージのみをインストールします。

## 使い方
```sh
poetry install --no-root
```

## どんな時に使う？
- プロジェクト自身のパッケージをインストールせず、依存パッケージだけをセットアップしたい場合
- テストやCI環境などで、ルートパッケージのインストールが不要な場合

## 注意点
- ルートパッケージのインストールが必要な場合は、`--no-root` を付けないでください。

---
Poetry公式ドキュメント: https://python-poetry.org/docs/cli/#install 

---

# Poetry の仮想環境をプロジェクト直下に作成する設定

`poetry config virtualenvs.in-project true` を実行すると、プロジェクトディレクトリ直下（今いる場所）に `.venv` ディレクトリが作成され、仮想環境がそこに配置されます。

## どういう時に使うの？

### 1. プロジェクトごとに仮想環境を明確に分けたい場合
- プロジェクトディレクトリ内に `.venv` ができるので、どの仮想環境がどのプロジェクト用か一目で分かります。
- 複数プロジェクトを扱う場合、グローバルな場所（例: `~/.cache/pypoetry/virtualenvs/`）に仮想環境が混在しません。

### 2. エディタやIDEとの連携が楽になる場合
- VSCodeやPyCharmなどは、プロジェクト直下の `.venv` を自動検出しやすいです。
- 設定ファイルを書き換えなくても、すぐに仮想環境を認識してくれます。

### 3. プロジェクトの移動や削除が簡単
- プロジェクトごとに仮想環境が閉じているので、ディレクトリごとコピー・削除しても他に影響しません。

### 4. CI/CDやDockerなどで一時的な環境を作る場合
- プロジェクト内で完結するため、クリーンな状態を保ちやすいです。

## 注意点
- `.venv` ディレクトリは通常 `.gitignore` に追加して、リポジトリに含めないようにします。
- ディスク容量を多く使う場合があるので、プロジェクト数が多いときは注意。

---

# Poetry で仮想環境を作成しない設定

`poetry config virtualenvs.create false` を実行すると、Poetryは仮想環境を新たに作成せず、**システムのPython環境に直接パッケージをインストール**します。

## どういう時に使うの？
- すでに仮想環境を自分で用意している場合（例: venv, conda など）
- DockerやCI環境など、隔離された環境でグローバルなPython環境を使いたい場合
- システム全体でパッケージを共有したい場合

## 注意点
- システムのPython環境を汚す可能性があるため、通常は推奨されません。
- 他のプロジェクトと依存関係が競合するリスクがあります。
- 必要な場合のみ利用し、基本はPoetryの仮想環境を使うのが安全です。

---
Poetry公式ドキュメント: https://python-poetry.org/docs/configuration/#virtualenvscreate 